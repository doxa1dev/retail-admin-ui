<div class="special-products">
  <div class="title">
    <p>New Advisor Earning Program</p>
  </div>
  <div class="row ml-2" style="margin-bottom: 50px;">
    <div class="col-lg-8">
      <div class="title-description row">
        <div class="cart">

          <div class="naep">New Advisor Earning Program Fee</div>
          <p-dropdown filter="true" [options]="listMultiSelect" placeholder="Select product" [(ngModel)]="naepProduct" (onChange)="checkSelectedProduct($event)">
          </p-dropdown>
          <mat-error class="error-message" style="margin-left: 5px; display: block;" *ngIf="myIsNullOrUndefined(selectedProduct) && isShowError">
                NAEP product is required
          </mat-error>
          <mat-divider></mat-divider>
            <div class="naep" style="margin: 10px 10px 10px 0px;">
              Discount Thermomix</div>
              <p-dropdown filter="true"
                [options]="listMultiSelectDiscount" placeholder="Select product"
                (onChange)="checkSelectedProductDiscount($event)"
                [(ngModel)]="discountProduct">
              </p-dropdown>
              <div style="font-size: var(--input-text); position: absolute; left: 55%; top: 150px;">
                <div>Listed Price: {{listed_price}}</div>
                <div>NAEP Price: {{naep_price}}</div>
              </div>
          <mat-divider></mat-divider>


          <div class="keyProduct">Key Product</div>
          <p-multiSelect optionLabel="label" [showToggleAll]=false [selectionLimit]="6" filter="true"
            [options]="listMultiSelectKeyProduct" [defaultLabel]="'Select key product'"
            [(ngModel)]="listKeyProduct" (onChange)="checkSelectedKeyProduct($event)">
          </p-multiSelect>
          <mat-error class="error-message" style="margin-left: 5px; display: block;" *ngIf="listKeyProduct.length === 0 && isShowError">
            Key product is required
          </mat-error>
          <div style="display: flex; padding-top: 10px;">
            <!-- quantity slect item -->
            <div style="font-style: oblique;" *ngIf="listKeyProduct.length > 0">{{listKeyProduct.length}} slots selected</div>
            <!-- select item -->
            <div style="font-weight: 600; padding-left: 55px; height: auto;" *ngIf="listKeyProduct.length > 0">
              <div style="font-style: oblique;" *ngFor="let product of listKeyProduct">
                <p>{{product.label}}</p>
              </div>
            </div>

          </div>
        </div>
        <div style="width: 100%; height: auto; background-color: none;">
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="history-available row">
        <div class="content">
          <p id="header">Update History</p>
          <mat-divider style="margin-bottom: 10px;"></mat-divider>
          <app-timeline [histories]="updateHistory"></app-timeline>
        </div>
      </div>
    </div>
  </div>
  <div class="btn-button-special-products" style="padding-top: 10px; margin-top: 20px;">
    <div class="btn-back" fxFlex="1 0 auto" fxLayout="row">
      <button mat-raised-button (click)="back()">BACK</button>
    </div>
    <div class="btn-save" fxFlex="0 1 auto" fxLayout="row">
      <button (click)="updateSpecialProducts()" mat-raised-button>UPDATE</button>
    </div>
  </div>
